# ä»€ä¹ˆæ˜¯webpack?

![](C:\Users\lenovo\Documents\ä¸€â€œæ¡¶â€å‰ç«¯\myNote\vue\assets\webpackV-1.jpg)

![](assets\webpackV-2.jpg)

![](assets\webpackV-3.jpg)

# webpackå’Œgulpçš„åŒºåˆ«

![](assets\webpackV-4.jpg)





# webpack å®‰è£…

![](assets\webpackV-5.jpg)



# webpackèµ·æ­¥

## æ–‡ä»¶ç›®å½•

- dist
  - distribution : å‘å¸ƒ
  - è¿™ä¸ªç›®å½•æ˜¯æœ€ç»ˆéƒ¨ç½²åˆ°æœåŠ¡å™¨ä¸Šæ–‡ä»¶å¤¹

- src
  - mian.js    jsçš„å…¥å£æ–‡ä»¶
  - js
    - xxx.sj
    - yyy.js
    - ....
  - é‡‡ç”¨æ¨¡å—åŒ–çš„å†™æ³•  ,  æ–‡ä»¶ä¹‹é—´å­˜åœ¨ä¾èµ–å…³ç³»
- index.html     é¡¹ç›®çš„å…¥å£æ–‡ä»¶
  - åœ¨é‡Œé¢ å¼•å…¥main.jsæ˜¯ ä¸å¯ä»¥åœ¨æµè§ˆå™¨è¿è¡Œçš„
  - å› ä¸ºæµè§ˆå™¨ä¸è®¤è¯† æ¨¡å—åŒ–å†™æ³• 
  - å› æ­¤ éœ€è¦ webpack è¿›è¡Œ  ==æ¨¡å—åŒ–æ‰“åŒ…==  ç”Ÿæˆä¸€ä¸ªå®Œæ•´çš„æµè§ˆå™¨å¯ä»¥è®¤è¯†çš„.jsæ–‡ä»¶
  - æ­£ç¡®çš„æ˜¯:
    - å¼•ç”¨ bundle.js æ–‡ä»¶å°±å¥½äº†
- æ‰“åŒ…å‘½ä»¤
  - `webpack  ./src/main.js  ./dist/bundle.js`
  - `webpack éœ€è¦æ‰“åŒ…çš„jsæ–‡ä»¶åœ°å€   æ‰“åŒ…éƒ¨ç½²æ–‡ä»¶å¤¹ä¸­çš„bundle.js`
  - webpack å†…éƒ¨å¤„ç†æ¨¡å—ä¹‹é—´çš„ä¾èµ–
- å…³é”®å‡½æ•°
  - `_webpack_require_()`
  - è´Ÿè´£å¤„ç†ä¾èµ–



## webpack é…ç½®æ–‡ä»¶

1. é…ç½® å…¥å£ å’Œ å‡ºå£  ,  ç®€åŒ–æ‰“åŒ…å‘½ä»¤
   1. æ–°å»ºwebpack.config.js æ–‡ä»¶  å¦‚ä¸‹å†™ä»£ç 

![](assets\webpackV-6.jpg)

â€‹		æ³¨æ„:	

â€‹				path éœ€è¦çš„æ˜¯ç»å¯¹è·¯å¾„ ,  éœ€è¦ç”¨åˆ°nodejsä¸­çš„pathæ¨¡å—

â€‹				`npm init` å®‰è£… nodejsçš„æ¨¡å— èœå¯ä»¥å¼•å…¥

![](assets\webpackV-7.jpg)

â€‹    		  æ‰“åŒ…å‘½ä»¤å°±ç®€åŒ–æˆäº†`webpack`

â€‹				

2. å®Œæˆnpmçš„æ˜ å°„
   1.   çœŸå®é¡¹ç›®: `npm run build`  å°±å¯ä»¥æ‰“åŒ…äº†   
   2. but why
      1. æ‰“å¼€package.jsonæ–‡ä»¶
      2. æ‰¾åˆ° script é€‰é¡¹
      3. è¾“å…¥é”®å€¼å¯¹
         1. `"build":"webpack"`
         2. npm è¿è¡Œ build æŒ‡ä»¤æ—¶  å®é™…ä¸Šå®åœ¨è¿è¡Œwebpackæ‰“åŒ…æŒ‡ä»¤
   3. é€šè¿‡ scirpt é€‰é¡¹çš„è„šæœ¬å‘½ä»¤æ˜ å°„å®Œæˆçš„

![](assets\webpackV-8.jpg)



3. å±€éƒ¨çš„webpack 
   1. å®‰è£…å±€éƒ¨webpack
   2. `npm install webpack@x.xx.x --save-dev`
      1. -dev : å®‰è£…çš„æ˜¯å¼€å‘æ—¶ä¾èµ–
      2. ç›®å‰å¥½åƒ-devå‘½ä»¤åºŸå¼ƒäº†
         1. å‡ºé—®é¢˜å†å»è§£å†³å§
         2. æ ¹æœ¬ä¸æ…Œå‘¢!!!
   3. æˆ‘ä»¬å†æ¬¡æ‰“å¼€ package.json æ–‡ä»¶
      1. dev-   : development  å¼€å‘
      2. devDependency : å¼€å‘æ—¶ä¾èµ–
      3. è¿™æ˜¯ npmè‡ªåŠ¨ä¸ºæˆ‘ä»¬ç”Ÿæˆäº† , ä¸éœ€è¦æ‰‹å†™

![](assets\webpackV-9.jpg)

4. ==npm run build å’Œ webpack çš„åŒºåˆ«==
   1. npm run build  é»˜è®¤æ˜¯ä½¿ç”¨å±€éƒ¨å¯¹åº”çš„webpackç‰ˆæœ¬å»æ‰“åŒ…
   2. webpack åˆ™æ˜¯ä½¿ç”¨å…¨å±€webpack å»æ‰“åŒ…





# webpack loader

## ä»€ä¹ˆæ˜¯ loader?

![](assets\webpackV-10.jpg)

## ä½¿ç”¨loader

[å’Œcssç›¸å…³çš„loaderç±»å‹](https://webpack.docschina.org/loaders/#%E6%A0%B7%E5%BC%8F)

ä¸åŒçš„loaderè´Ÿè´£å¤„ç†ä¸åŒçš„åŠŸèƒ½:

1. ä»¥css-loader å’Œ style-loader ä¸ºä¾‹
   1. css-loaderè´Ÿè´£æŠŠcssæ–‡ä»¶æ‰“åŒ…åˆ° bundle.jsæ–‡ä»¶ä¸­
      1. ä¸è¦é—®æˆ‘æ˜¯æ€ä¹ˆå»æ‰“åŒ…çš„ , æˆ‘ä¹Ÿä¸å¤ªæ¸…æ¥š!
      2. ä½†æ˜¯æˆ‘å¯ä»¥çŒœæµ‹ä¸€ä¸‹
         1. ç”¨jsæ“ä½œcssçš„æ€è·¯å·®ä¸å¤š
         2. ä¸€ä¸ªæ¬ç –éƒ½è¿˜æ²¡å¼„æ˜ç™½çš„äºº , å»æ“å¿ƒ é€ ç«ç®­???
   2. style-loaderè´Ÿè´£æŠŠcssæ–‡ä»¶æ¸²æŸ“åˆ°DOMä¸­ , è®©æ ·å¼çœŸæ­£çš„å‘æŒ¥æ•ˆæœ



å…·ä½“ä½¿ç”¨ å¯ä»¥å»å®˜æ–¹æ–‡æ¡£å»çœ‹

![](assets\webpackV-11.jpg)



é¡ºåºé”™äº†, å°±ä¼šç›´æ¥æŠ¥é”™!!!



## å…·ä½“æ¡ˆä¾‹

![](assets\loader-1.jpg)



## çœŸå®å¼€å‘

åœ¨main.jså¼•å…¥ä¾èµ–

![](assets\loader-2.jpg)

å®‰è£…loader

  				ps:     packega.jsonæ–‡ä»¶ä¼šè‡ªåŠ¨ç”Ÿæˆå¯¹loaderçš„ä¾èµ–

![](assets\loader-3.jpg)



åœ¨webpack.config.jsæ–‡ä»¶ä¸­é…ç½® loader

![](assets\loader-4.jpg)





# less  sacc  ç­‰é¢„å¤„ç†æ–‡ä»¶çš„ä¾èµ–

æ­¥éª¤å’Œä¸Šé¢çš„çœŸå®å¼€å‘ä¸€æ · , æµç¨‹ä¹Ÿæ˜¯ä¸€æ ·çš„

è‡ªå·±åŠ¨æ‰‹å®Œæˆ







# å›¾ç‰‡ç­‰æ–‡ä»¶å¤„ç†

- url-loader

![](assets\loader-5.jpg)

- å½“æ–‡ä»¶å°äºé™å®šæ—¶ , ä¼šå°†æ–‡ä»¶ç¼–è¯‘æˆbase64çš„å­—ç¬¦ä¸²å½¢å¼
- ä¸€èˆ¬å¼€å‘ä¸­é™åˆ¶çš„å¤šæ˜¯ 8kb
- å½“æ–‡ä»¶>é™å®šæ—¶  ,   æ‰“åŒ…ä¼šæŠ¥é”™  

![](assets\loader-6.jpg)

- å®‰è£…ä¸€ä¸‹ file-loader å°±å¥½äº†
- `npm install file-loader --save-dev`
- ä¸è¦é«˜å…´çš„å¤ªæ—©  ,  è¿˜æ˜¯ä¼šæŠ¥é”™çš„
  - å› ä¸ºfile-loaderç”Ÿæˆçš„æ–‡ä»¶åœ¨distç›®å½•ä¸‹
  - è€Œcssæ–‡ä»¶çš„urlæ˜¯æ²¡æœ‰distç›®å½•çš„ , ä¹Ÿä¸å¯èƒ½æœ‰   å¦åˆ™å°±æ˜¯å½±å“æˆ‘ä»¬çš„å¼€å‘æ€è·¯äº†
  - é‚£ä¹ˆæ€ä¹ˆåŠ? 
    - é…ç½® webpack.config.jsæ–‡ä»¶ çš„  output é€‰é¡¹
    - æ·»åŠ  é”®å€¼å¯¹   `publicPath:"dis/"`
    - è§£å†³urlçš„è·¯å¾„é—®é¢˜

![](assets\loader-7.jpg)





- æ–°çš„é—®é¢˜:
  - æ–‡ä»¶æ‰“åŒ…åˆ°distç›®å½•ä¸­çš„æ–‡ä»¶åæ˜¯ä¸€ä¸ªhashå€¼ , å¯è¯»æ€§å¾ˆå·®
    - ä¸ºä»€ä¹ˆæ˜¯hashå€¼?
    - æ˜¯ä¸ºäº†ç»™æ¯ä¸ªæ–‡ä»¶ä¸€ä¸ªå”¯ä¸€æ ‡è¯†ç¬¦, å‡ºäºè¿™ä¸ªè§’åº¦è€ƒè™‘çš„
    - ä½†æ˜¯ä¸äººæ€§åŒ–
  - å¦‚ä½•è§£å†³?
    - name+hashå€¼ æ¥å‘½å ä¸å°±æå®šäº†
    - hashå€¼32ä½ ä¹Ÿæœ‰ç‚¹é•¿äº†  å¯ä»¥hash:8  æˆªå–8ä½å°±å¥½äº†
    - åç¼€åã€€ï½…ï½˜ï½”ã€€å ä½ ä¹‹ååŠ¨æ€è·å–å°±åäº†   ï¼ˆextensionï¼‰
    - æ ¼å¼ : name.hash:8.ext
  - å®ç°
    - åœ¨webpack.config.jsæ–‡ä»¶ä¸‹çš„  moduleé€‰é¡¹é‡Œé¢çš„ rulesæ•°ç»„  ä¸‹çš„  è´Ÿè´£é…ç½®ï½€ï½•ï½’ï½Œï¼ï½Œï½ï½ï½„ï½…ï½’ï½€çš„å¯¹è±¡

![](assets\loader-8.jpg)



- ä½†æ˜¯è¿˜æ˜¯ä¼šæŠ¥é”™
  - åŸå› å°±æ˜¯ : name æ²¡æœ‰å†™åˆ°webpack é‡Œé¢
  - ==æ‰“åŒ…ä¹‹åä¹Ÿä¼šç›¸åº”çš„ç”Ÿæˆæ–‡ä»¶å¤¹  img  æ‰“åŒ…çš„å›¾ç‰‡æ”¾åœ¨é‡Œé¢==

![](assets\loader-9.jpg)









# ES6è¯­æ³•å¤„ç†

## å®‰è£…å¯¹åº”çš„loader

![](assets\ES6-webpack-1.jpg)

é—®é¢˜:

â€‹	æˆ‘ä»¬æ‰“å¼€webpackå®˜ç½‘çš„è¯, æ‰¾åˆ°çš„babel-loader

![](assets\ES6-webpack-2.jpg)

ä¸Šé¢çš„

`npm install -D babel-loader  @&babel-core babel-preset-es2015`

## é…ç½®loader

![](assets\ES6-webpack-3.jpg)



æ–‡æ¡£ä¸Šçš„é…ç½®

![](assets\ES6-webpack-4.jpg)















# ğŸ‘webpacké…ç½®Vue

## å®‰è£…Vue.js

`npm install Vue --save`

![](assets\vue-webpck.jpg)



## å¼•å…¥Vue æ¨¡å—

`import Vue from "vue"`



## æ‰“åŒ…é¡¹ç›®

ä¼šæŠ¥é”™: å› ä¸ºVue xxx-only ä¸å¯ä»¥æœ‰æ¨¡æ¿  è¦ç”¨xxx-conplie (ç¼–è¯‘ )

è§£å†³:

1. webpack.config.js é€‰é¡¹å¯¹è±¡é‡Œé¢
2. æ·»åŠ  é”®å€¼å¯¹ 
   1. resolve
      1. alias : åˆ«å

![](assets\vue-webpck2.jpg)







## ğŸˆVueçš„ç»ˆæä½¿ç”¨æ–¹æ¡ˆ

==ææ¸…æ¥šçš„å…³é”®åœ¨äº ææ‡‚elé€‰é¡¹å’Œtemplateçš„å…³ç³»==

### åŸæœ¬ä»£ç 

![](assets\vue-webpck3.jpg)

è¯´æ˜:

â€‹	templateé‡Œé¢çš„å†…å®¹==æ‰“åŒ…ç¼–è¯‘==åæœ€ç»ˆä¼š**æ›¿æ¢**æ‰ el  æŒ‚è½½åœ°æ–¹çš„å…ƒç´ 

â€‹	ä½†æ˜¯ temlateæ¨¡æ¿é‡Œé¢çš„ä¸œè¥¿å¤ªå¤šäº† , çœ‹ç€ä¸çˆ½

### è¿›é˜¶

æŠŠtempateä»¥ç»„ä»¶çš„æ–¹å¼æå–å‡ºå»  (è‡ªç„¶æ¨¡æ¿ç”¨åˆ°çš„æ•°æ® ,æ–¹æ³•ä¹‹ç±»çš„éƒ½è¦ä¸€èµ·æå–åˆ°ç»„ä»¶é‡Œé¢å»)

![](assets\vue-webpck4.jpg)

æˆ‘ä»¬åœ¨è·Ÿç»„ä»¶é‡Œé¢æ³¨å†Œä¸€ä¸‹å°±å¥½

```javascript
components:{
    APP
}
```

 ![](assets\vue-webpck5.jpg)



### æ¨¡å—åŒ–è¿›åŒ–

æŠŠå°è£…å¥½çš„ç»„ä»¶ä»£ç å•ç‹¬æå–åˆ°ä¸€ä¸ªjsæ–‡ä»¶  æ¯”å¦‚å°±æ˜¯ app.js

åœ¨app.jsæ–‡ä»¶ æœ€åå†™ä¸Š ES6**å¯¼å‡º**ä»£ç 

`export default App`

ä¹Ÿå¯ä»¥è¿™æ ·ç»„ç»‡ä»£ç :

![](assets\vue-webpck6.jpg)	



ä¹‹åå¾€ index.html å¯¼å…¥å°±å¥½äº†:

![](assets\vue-webpck7.jpg)



â€‹	

### Vueæ–‡ä»¶

ä¸Šè¿°ä½¿ç”¨ä¹‹å ï¼Œindex.html å°±ç›¸å½“æ¸…çˆ½äº†

ä½†æ˜¯è¿˜å­˜åœ¨é—®é¢˜  ï¼›  app.jsæ–‡ä»¶ çœ‹èµ·æ¥è¿˜æ˜¯ä¸å¤Ÿèˆ’æœ

æˆ‘ä»¬å‘æ˜äº† 	ä¸“é—¨å†™VueComponnetçš„æ–‡ä»¶     .vue

æˆ‘ä»¬æ–°å»ºä¸€ä¸ª App.vueçš„æ–‡ä»¶

æ–‡ä»¶é»˜è®¤ä¸‰æ®µ

- template
- script
- style

æˆ‘ä»¬æŠŠç»„ä»¶çš„ä»£ç æŠ½åˆ°è¿™é‡Œå» ï¼Œ ä¸€ä¸‹å°±æ¸…çˆ½äº†

![](assets\vue-webpck8.jpg)





### æœ€å

å°±åœ¨æˆ‘ä»¬ä»¥ä¸ºå¤§åŠŸå‘Šæˆä»¥å ï¼Œ ä¸€æ‰“åŒ…   æŠ¥é”™äº†ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚

å› ä¸ºæˆ‘ä»¬æ²¡æœ‰å®‰è£…å¤„ç† .vueçš„æ–‡ä»¶ loader

å¤„ç†é—®é¢˜ï¼š Vueå®˜ç½‘

![](assets\vue-webpck9.jpg)

webpack.config.js ä¸­çš„ moduleé€‰é¡¹é‡Œé¢çš„rulesæ•°ç»„é‡Œé¢ æ·»åŠ ä¸€ä¸ªå¯¹è±¡



ä½ ä»¥ä¸ºè¿™å°±ç»“æŸäº†?  å°±æˆåŠŸäº†?  å±!!!!



## æœ€ç»ˆ

æˆ‘ä»¬ å†æ¬¡ npm run build æ‰“åŒ… , ä¾æ—§æŠ¥é”™!!!!!!!!!!

![](assets\vue-w-1.jpg)



**è§£å†³æ–¹æ³•1:**

ä¿®æ”¹ package.jsonæ–‡ä»¶

![](assets\Vue-w-2.jpg)

æ‰§è¡Œå‘½ä»¤ ` npm install `å®‰è£…ä¿®æ”¹è¿‡åçš„ä¾èµ–



**è§£å†³æ–¹æ³•2: æ·»åŠ æ’ä»¶**







# webpack é…ç½®æ–‡ä»¶åç¼€çš„ç®€å†™

![](assets\Vue-w-3.jpg)

webpack.config.jsæ–‡ä»¶ä¸­

è¿™æ ·ä»¥å å°±ä¸éœ€è¦å†™`` ./App.vue`  ç›´æ¥ `./App `å°±å¯ä»¥