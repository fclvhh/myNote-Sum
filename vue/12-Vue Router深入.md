# åŠ¨æ€è·¯ç”±

ã€–åŠ¨æ€è·¯å¾„ã€—

â‘ è®©routeræ•°ç»„çš„å¯¹è±¡é‡Œçš„ pathå±æ€§æ˜¯å¯å˜çš„

â‘¡æ€è·¯: â…° åœ¨è·¯ç”±ä¸­,é…ç½®è·¯å¾„å€¼æ—¶,æä¸€ä¸ªå ä½ç¬¦  â…± åœ¨router-linkç»„ä»¶ä¸­ ä¸ºtoå±æ€§åŠ¨æ€ç»‘å®š

![](assets\Vue-router-è·¯ç”±è¡¨çš„å®ç°8.jpg)

â‘¢ã€Œ$routerã€å’Œ    ã€Œrouteã€çš„åŒºåˆ« : routerä»£è¡¨routesæ•°ç»„,         routeå±æ€§ä»£è¡¨æ•°ç»„é‡Œé¢çš„**å½“å‰å¯¹è±¡**,ä¹Ÿå°±æ˜¯å½“å‰ç»„ä»¶

![](assets\Vue-router-è·¯ç”±è¡¨çš„å®ç°9.jpg)







# è·¯ç”±æ‡’åŠ è½½

ã€–è·¯ç”±æ‡’åŠ è½½çš„èµ·å› ã€—

â‘ SPAçš„æ€è·¯å°±æ˜¯ ã€Œèµ„æºurl==>è·å¾—æ‰€æœ‰çš„é™æ€èµ„æºã€ 

â‘¡ ä½†æ˜¯ **é™æ€èµ„æºæ˜¯éå¸¸å¤šçš„** åŒ…å«äº†   æ ¹ç»„ä»¶å’Œæ‰€æœ‰çš„å­ç»„ä»¶   ä¸‹è½½åˆ°æµè§ˆå™¨çš„ç¼“å­˜ä¸­å¤ªè´¹æ—¶é—´äº†, ç”¨æˆ·ä½“éªŒä¸å¥½

â‘¢é™æ€èµ„æºåœ¨webpackæ‰“åŒ…æ—¶,æ‰“åŒ…æˆäº†ä¸€ä¸ª  ã€Œåºå¤§ã€jsæ–‡ä»¶     ä¹Ÿå°±æ˜¯**æ¯ä¸ªç»„ä»¶éƒ½æ‰“åŒ…åˆ°äº†ä¸€èµ·**

â‘£å› æ­¤ è¿›è¡Œäº†æ‹†åˆ†    ã€”æ ¹ç»„ä»¶.jsã€•å’Œ ã€”å…¶ä»–ç»„ä»¶,jsã€•



## è·¯ç”±æ‡’åŠ è½½æœºåˆ¶

1. åªåŠ è½½  **rootç»„ä»¶**æ‰€å¯¹åº”çš„ jsæ–‡ä»¶ å’Œ   é¦–é¡µå¯¹åº”çš„ **homeç»„ä»¶**
2. å½“ é¡µé¢å‘å‡ºäº†æŒ‡ä»¤ ,å†å»åŠ è½½å¯¹åº”çš„ é¡µé¢ç»„ä»¶
3. è¿™å°±æ˜¯æ‡’åŠ è½½



## æ‡’åŠ è½½ä»£ç å®ç°

1. æ‡’åŠ è½½  åŠ è½½çš„æ˜¯ä»€ä¹ˆ?   ã€Œ æ˜¯ç»„ä»¶ã€
2. ç°åœ¨å°±æ˜¯è¦å‘Šè¯‰  æµè§ˆå™¨   ã€Œå“ªäº›ç»„ä»¶æ˜¯æ‡’åŠ è½½çš„?ã€
3. åœ¨routeræ–‡ä»¶å¤¹ä¸‹çš„index.jsä¸­      **å¯¼å…¥æ—¶å£°æ˜å­ç»„ä»¶æ˜¯å¦æ‡’åŠ è½½**
4. å£°æ˜æ ¼å¼   `const ç»„ä»¶å = ()=>import("ç»„ä»¶è·¯å¾„")`



**æ ¹ç»„ä»¶é‡Œé¢å°±ä¸å†éœ€è¦å¯¼å…¥ç»„ä»¶äº†,åªéœ€è¦å¯¼å…¥è·¯ç”±ç»„ä»¶,è·¯ç”±ç»„ä»¶åœ¨é…ç½®æ˜ å°„æ—¶,å¯¼å…¥ç›¸åº”çš„ç»„ä»¶å°±å¥½äº†**

![](assets\Vue-router-è·¯ç”±è¡¨çš„å®ç°10.jpg)





# è·¯ç”±åµŒå¥—

ã€–æ¦‚å¿µè§£é‡Šã€—

â‘ å­¦ä¹ åˆ°ç°åœ¨,æˆ‘ä»¬åœ¨ã€Œæ ¹ç»„ä»¶ã€é€šè¿‡ â’’ router-link å®Œæˆäº†ç»„ä»¶é¡µé¢çš„è·³è½¬    â’“é€šè¿‡router-view ç¡®å®šäº†é¡µé¢çš„å±•ç¤ºä½ç½®

â‘¡èƒŒåæ˜¯ è·¯ç”± routesæ•°ç»„ å’Œ æ•°ç»„é‡Œçš„å¯¹è±¡æ”¯æŒçš„

â‘¢è¿™ä¸ªä½“ç°åˆ°ã€Œæµè§ˆå™¨çš„åœ°å€æ ã€é‡Œ  : /xxx â€“>é¡µé¢a  ;  /yyy â€“>é¡µé¢b

â‘£**æ ¹ç»„ä»¶å’Œå­ç»„ä»¶çš„å…³ç³» æ˜¯å¯ä»¥å¤åˆ¶çš„**      å½¢æˆçš„ã€Œæ ‘å‹å…³ç³»ã€å°±ç§°ä¸º è·¯ç”±åµŒå¥—





## è·¯ç”±åµŒå¥—å®ç°

- â‘ è·¯ç”±æ˜ å°„å…³ç³»çš„åµŒå¥—
  - childrenå±æ€§   å±æ€§å€¼æ˜¯ä¸€ä¸ªæ•°ç»„ ã€Œç­‰ä»·äº routesã€
  - æ˜ å°„å¯¹è±¡çš„pathå±æ€§å€¼   å¿…é¡»çº¯ç²¹ã€Œä¸å¯ä»¥åŠ  '/'ã€
- â‘¡å­ç»„ä»¶å……å½“æ ¹ç»„ä»¶çš„è§’è‰²   å†™router-linkç»„ä»¶  å’Œ router-viewç»„ä»¶
- â‘¢å­™å­ç»„ä»¶ templateçš„ä¹¦å†™
- â‘£ä¾ç„¶å¯ä»¥é»˜è®¤è·¯ç”±å“¦  ã€Œæˆ˜åœºç”± routes ==>childrenã€



**è·¯ç”±é…ç½®çš„å®ç°**![](assets\Vue-router-è·¯ç”±åµŒå¥—1.jpg)



## å­ç»„ä»¶æ¨¡æ¿ä¹¦å†™

â‘ router çš„index.js å¯¼å…¥æ¨¡æ¿ã€Œä¸€èˆ¬æ‡’åŠ è½½å¯¼å…¥ã€ , å­™å­ç»„ä»¶å¯¼å‡ºæ¨¡æ¿

â‘¡é…ç½®è·¯ç”±

â‘¢å­ç»„ä»¶ å¯¼å…¥ routerç»„ä»¶, å¹¶ä¸”ç”¨ router-link å’Œrouter-view æ ‡ç­¾å®Œæˆtemplate







# ç»„ä»¶ä¹‹é—´urlä¿¡æ¯ä¼ é€’



ã€–ä¿¡æ¯ä¼ é€’æ–¹å¼ã€—

â‘ åŠ¨æ€è·¯ç”±æ–¹å¼ä¼ é€’ params

- åŠ¨æ€è·¯ç”±   è·¯å¾„æ ¼å¼   /home/:xx
- ä¼ é€’çš„æ–¹å¼ : åœ¨pathåé¢è·Ÿä¸Šå¯¹åº”çš„å€¼
  - **å¯¹åº”çš„å€¼è·å–**
  - æ ¸å¿ƒ :  å±æ€§ç»‘å®šè·å–ç»„å»ºçš„data
  - â‘´ routeræ ‡ç­¾çš„ to å±æ€§ ç»‘å®šdata
  - â‘µ æ ¹æ®ã€Œ :xx ã€è·¯ç”±å ä½è¯­æ³• ,å®Œæˆæ•°æ®ä¼ é€’, è·¯ç”±æ˜ å°„ç”Ÿæ•ˆ

â‘¡queryçš„keyä¼ é€’

- æœ¬è´¨ : toå±æ€§ç»‘å®šå¯¹è±¡è¯­æ³•çš„å‡çº§
- queryé€‰é¡¹ æ¥è‡ªäºã€Œurlçš„queryå‚æ•° ã€
- queryå±æ€§çš„å±æ€§å€¼æ˜¯ä¸€ä¸ªå¯¹è±¡



## urlçš„queryå‚æ•°ç»‘å®š

ãˆ **ç‚¹å‡» router-linkè·³è½¬æ—¶, urlçš„queryå‚æ•° å°±ç”± toå±æ€§ç»‘å®šçš„å¯¹è±¡ä¸­çš„queryå±æ€§è·å–**

![](assets\ç»„ä»¶å‚æ•°ä¼ é€’.jpg)



**ãˆ¡ä¾ç„¶è¦æå‰é…ç½®å¥½è·¯ç”±æ˜ å°„ : uræ˜¯è·¯å¾„  ä½†æ˜¯æ˜ å°„çš„ç»„ä»¶ä¹Ÿè¦é…ç½®å¥½**

![](assets\è·¯ç”±.jpg)



## urlçš„pathç»‘å®š

å°±æ˜¯åŠ¨æ€è·¯ç”±çŸ¥è¯†

  



# $route å’Œ   router

æ˜¯è·¯ç”±åŠŸèƒ½çš„åº•å±‚å®ç°

ç”¨è¿™ä¸¤ä¸ªrouterå¯¹è±¡,å°±å¯ä»¥ç”¨jsä»£ç ,æ‰‹åŠ¨å®ç°ä¸Šè¿°åŠŸèƒ½

æ¯”å¦‚åŠ¨æ€è·¯ç”±ä¸­ ç¬¬â‘¢æ­¥å®ç°

**é…åˆäº‹ä»¶ç»‘å®šæœºåˆ¶,è°ƒç”¨å›è°ƒå‡½æ•°,æ‰§è¡Œjsä»£ç å¤§æ¦‚å®ç°éƒ¨åˆ†åŠŸèƒ½**





# å¯¼èˆªå®ˆå«

> ç›‘å¬ç»„ä»¶çš„è·³è½¬  åœ¨è·³è½¬æ—¶,å®Œæˆéƒ¨åˆ†åŠŸèƒ½
>
> å¦‚ : è®©title å˜æˆ å¯¹åº”ç»„ä»¶çš„åå­—



ã€–**ä¸šåŠ¡å®ç°**ã€—

![](assets\è·¯ç”±2.jpg)

![](assets\è·¯ç”±3.jpg)



## è·¯ç”±å®ˆå«ç»†èŠ‚åˆ†æ

â‘  beforeEach()

â‘¡ mata ã€Œè·¯ç”±å¯¹è±¡å±æ€§ã€

![](assets\è·¯ç”±4.jpg)



- éœ€è¦ä¼ å…¥ä¸€ä¸ªå›è°ƒå‡½æ•°
- å›è°ƒå‡½æ•°æœ‰ä¸‰ä¸ªå‚æ•°  
  - to : **å¾…è·³è½¬è·¯ç”±å¯¹è±¡**
  - from : **å½“å‰è·¯ç”±å¯¹è±¡** 
  - next : è¡¨ç¤ºä¸‹ä¸€æ­¥ , å¿…é¡»è¢«æ‰§è¡Œè°ƒç”¨





## è·¯ç”±å¯¹è±¡çš„å£°æ˜å‘¨æœŸ

å‰ç½®é’©å­å‡½æ•°   beforeEach

åç½®é’©å­å‡½æ•° afterEach()  ä¸ç”¨next  

![](assets\è·¯ç”±5.jpg)

![](assets\è·¯ç”±6.jpg)







# keep-alive

> ä½œç”¨: ç¼“å­˜Vueçš„ã€Œç»„ä»¶å¯¹è±¡ã€

ã€–è§£é‡Šã€—:

å®é™…å¼€å‘ä¸­, ç”¨æˆ·æ“ä½œé¡µé¢æ—¶ , ä¼šã€Œé¢‘ç¹ã€çš„è¿›è¡Œé¡µé¢è·³è½¬ !

â‘  ä»Vueçš„ç»„ä»¶å¯¹è±¡æ¥  æ€è€ƒé¡µé¢è·³è½¬çš„æµç¨‹

- ç‚¹å‡»  è·³è½¬å»åˆ«çš„é¡µé¢ç»„ä»¶
  - å¦‚: home - ->about
  - homeç»„ä»¶çš„Vueå¯¹è±¡ä¼šè¢«destroy
- ç‚¹å‡»  è·³è½¬ä¼šhomeé¡µé¢ç»„ä»¶
  - ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„homeç»„ä»¶çš„Vueå¯¹è±¡

- è¿™æ ·æ„Ÿè§‰æ¶ˆè€—æ€§èƒ½æ¯”è¾ƒå¤š

â‘¡ keep-aliveæ˜¯ä¸€ä¸ªç»„ä»¶  , ç”¨æ³•å¦‚ä¸‹

- åœ¨App.vueä¸­ åŒ…è£¹ router-view ç»„ä»¶
- ä¹‹åæ‰€æœ‰çš„åœ¨å¯¹åº”ä½ç½®å±•ç¤ºçš„ç»„ä»¶çš„Vueå¯¹è±¡éƒ½ä¼šè¢«ç¼“å­˜



## åˆ¤æ–­Vueå¯¹è±¡æ˜¯å¦è¢«åå¤åˆ›å»º

ã€–åŸç†ã€—:

Vueå¯¹è±¡çš„å£°æ˜å‘¨æœŸå‡½æ•°  

é‡éš¾ç‚¹å¦‚ä¸‹ :

1. ç»„ä»¶çš„åˆ›å»º  ã€”ç»„ä»¶åœ¨Vueä¸­å°±æ˜¯ä¸€ä¸ªVueçš„å¯¹è±¡ã€•   ã€Œcreated()ã€ 

2. æ¨¡æ¿æŒ‚è½½åˆ°DOMä¸­   ã€”templateæ¨¡æ¿æŒ‚è½½åˆ°é¡µé¢ç›¸åº”ä½ç½®ã€• ã€Œmounted()ã€
3. é¡µé¢çš„åˆ·æ–°   ã€”æ¨¡æ¿çš„åŒå‘ç»‘å®š  **å“åº”å¼** çš„æ•°æ®æ”¹å˜ã€•ä¼šå¯¼è‡´åˆ·æ–°   ã€Œupdated()ã€

æˆ‘ä»¬å¯ä»¥åœ¨ç»„ä»¶æ„é€ å™¨ä¸­, æ·»åŠ createdé€‰é¡¹, æ‰“å°iä¿¡æ¯,ç”¨æ¥åˆ¤æ–­æ˜¯ç»„ä»¶å¯¹è±¡æ˜¯å¦è¢«é‡æ–°è°ƒç”¨äº†



## å…·ä½“å®ç°

![](assets\è·¯ç”±7.jpg)

![](assets\è·¯ç”±8.jpg)

![](assets\è·¯ç”±9.jpg)



## keep-aliveç»†èŠ‚

![](assets\è·¯ç”±10.jpg)



**å°ç»“:**

1. åªæœ‰åœ¨ä½¿ç”¨äº†keep-aliveç»„ä»¶çš„æƒ…å†µä¸‹, æ‰å¯ä»¥ä½¿ç”¨ activated  å’Œ deactivated å±æ€§
2. exclude ç”¨çš„æ¯”è¾ƒå¤š , ç”¨æ¥å»é™¤ä¸éœ€è¦è¢«ç¼“å­˜Vueå¯¹è±¡çš„ç»„ä»¶
   1. ç”¨æ³•: excuted="xx,yy,zz"
   2. ä½œä¸ºkeep-aliveæ ‡ç­¾çš„å±æ€§
   3. xx,yy,zzä¸ºç»„ä»¶çš„name
   4. ä¸­é—´ä¸å¯ä»¥å‡ºç° ç©ºæ ¼





# TabBarå®ç°

## åŸºç¡€è¯•æ¢   

â’ˆ![](assets\Tab-bar1.jpg)

â’‰![](assets\Tab-bar2.jpg)

â’Š![](assets\Tab-bar3.jpg)



## æŠ½ç¦»å­ç»„ä»¶

â’‹![](assets\Tab-bar4.jpg)

â’Œ![](assets\Tab-bar5.jpg)

â’![](assets\Tab-bar6.jpg)



## å­ç»„ä»¶slot

â’![](assets\Tab-bar7.jpg)

â’![](assets\Tab-bar8.jpg)



## ğŸˆç»„ä»¶æ•ˆæœ

â‘  æ´»è·ƒæ•ˆæœå’Œæ²¡ç‚¹å‡»çš„æ•ˆæœ

- ç±»ä¼¼äº è¶…é“¾æ¥çš„çš„çŠ¶æ€, ä¸åŒçš„çŠ¶æ€æœ‰ä¸èƒ½çš„æ ·å¼
- æ´»è·ƒæ•ˆæœå±•ç¤ºå›¾ç‰‡1 , éæ´»è·ƒå±•ç¤ºå›¾ç‰‡2 

è§£å†³æ€è·¯: 

åœ¨è®¾è®¡ç»„ä»¶æ—¶,å°±è€ƒè™‘åˆ°è¿™ä¸€ç‚¹

- æ‰€æœ‰å¯èƒ½ç”¨åˆ°çš„èµ„æºéƒ½åº”è¯¥ç”¨æ’æ§½å ä½
  - è€Œä¸æ˜¯ç”¨åˆ°çš„æ—¶å€™,å†å»æ
- åœ¨ç»„ä»¶å†…éƒ¨ç”¨ä»£ç å†³å®šä»€ä¹ˆæ—¶å€™å±•ç¤º

![](assets\Tab-bar9.jpg)



p121-p124 å››èŠ‚ æ„Ÿå—åˆ°åŸºç¡€ä¸ç‰¢

å°ç»“:

ç›®å‰æ¥è¯´,æ¶å­ç®—æ˜¯æ­å»ºå¥½äº†,å°±æ˜¯ç”¨Vueåœ¨å„ä¸ªç»„ä»¶å®ç°åŠŸèƒ½çš„ä¸ç†Ÿç»ƒ

åŸºæœ¬çŸ¥é“æ€ä¹ˆå›äº‹,ä½†æ˜¯è®°å¿†ä¸ä½,ä¸ä¼šå†™



ä½†æ˜¯æ—¶é—´é—®é¢˜,æŠŠä¸‹é¢çš„çŸ¥è¯†å­¦å®Œ,ä¹‹åä¸€ç‚¹ä¸€æ»´çš„é€æ­¥è§£å†³!!!





## è·¯ç”±åŠŸèƒ½

### å‰ç½®

```shell
npm install vue-router --save
```

Vue.use() ä½¿ç”¨æ’ä»¶

touteræ–‡ä»¶å¤¹  index.js



### ç›®å½•

view æ–‡ä»¶å¤¹è£…é¡µé¢ç»„ä»¶

homeå­æ–‡ä»¶å¤¹, ç”¨æ¥è£… é¦–é¡µç›¸å…³çš„é¡µé¢ç»„ä»¶



é…ç½®è·¯ç”±æ˜ å°„å¯¹è±¡  path  componnet

æ³¨æ„æ‡’åŠ è½½ + /è·¯å¾„çš„ é‡å®šå‘





### ğŸˆè·³è½¬

main-tabber ç»„ä»¶ ä½œä¸º tanbar å’Œ tabbar-itemçš„æ ¹ç»„ä»¶

æŠ½ç¦»çš„æ„ä¹‰æ˜¯ä¸ºäº†ç®€åŒ–Appæ ¹ç»„ä»¶

æˆ‘ä»¬åœ¨ main-tabbar ç»„ä»¶ å…·ä½“å®ç°tabbaråŠŸèƒ½



â‘ ç‚¹å‡»è·³è½¬

äº‹ä»¶è§¦å‘çš„å›è°ƒå‡½æ•°å†…éƒ¨çš„ä»£ç 

```javascript
this.$router.replace(path)
```

æ‰§è¡Œè¿™å¥ä»£ç å¯ä»¥è®©æ”¹å˜path, è·¯ç”±æ ¹æ®æ˜ å°„è·³è½¬åˆ°å¯¹åº”çš„ç»„ä»¶é¡µé¢



å¦‚ä½•æ‹¿åˆ°path?

main-tabbar ä½œä¸ºä¸€ä¸ªå†…å®¹æ ¹ç»„ä»¶   ä¼ é€’path ç»™å­ç»„ä»¶

è‡ªç„¶æƒ³åˆ°:

å­ç»„ä»¶ props æ‹¿åˆ°path 

çˆ¶ç»„ä»¶  é€šè¿‡å±æ€§  ä¼ é€’path

ç”±äºpathæ˜¯å†™æ­»çš„, ä¸ç”¨ç»‘å®šå±æ€§ä»dataé‡Œæ‹¿ , ç›´æ¥å±æ€§å†™æ­» , å°±å¯ä»¥æ‹¿åˆ°äº†

```
<tab-bar-item link="/xx" >
//ä¸ªæ€§ä»£ç 
</tab-bar-item>
```





## tab-bar-item çš„é¢œè‰²æ§åˆ¶

é€‰ä¸­é«˜äº®åŠŸèƒ½

æ€è·¯:

ç‚¹å‡»ä¸€ä¸ªitemæ—¶å€™,è·³è½¬æ—¶ , itemå˜è‰²

â’ˆiconå˜è‰²

ä¸¤ä¸ªimg,æ§åˆ¶å±•ç¤ºé‚£ä¸€å¼ 

é‡‡ç”¨v-show å‘½ä»¤   true å±•ç¤º , falseä¸å±•ç¤º

â’‰textå˜è‰²

ç»‘å®šstyle



è§£å†³é—®é¢˜çš„æ ¸å¿ƒå…³é”®åœ¨äº,**å¦‚ä½•åˆ¤æ–­è·³è½¬å®Œæˆäº†**

```javascript
this.$route.path.indexOf(this.link) !== -1
```

æ‹¿åˆ°å½“å‰è·¯ç”±çš„ è·¯å¾„

å’Œçˆ¶ç»„ä»¶ä¼ ä¸‹æ¥çš„ è·¯å¾„æ¯”è¾ƒ  å°±å¯ä»¥å¾—åˆ°æœ€é‡è¦çš„å¸ƒå°”å€¼äº†



ç”¨è®¡ç®—å±æ€§



â’Šv-showæ‰€éœ€è¦çš„å¸ƒå°”å€¼æ‹¿åˆ°äº†

styleè®¡ç®—å±æ€§å®ç°

```javascript
return this.isActive ? {'color': 'red'} : {}
```

å¦‚æœç”¨methods

åˆ™æ˜¯åŠ¨æ€æ’å…¥ç±»å‘½åˆ°classä¸­, è®©å¯¹åº”çš„ç±»é€‰æ‹©å™¨ç”Ÿæ•ˆçš„å¥—è·¯

è€Œstyle å¯çŸ¥èµ‹å€¼æ ·å¼ , å¹¶ä¸”ä¼˜å…ˆçº§å¾ˆé«˜ , ç”¨è®¡ç®—å±æ€§ç¡®å®æ›´åŠ çš„åˆé€‚



## æé«˜å°è£…

![](assets\Tab-bar13.jpg)

![](assets\Tab-bar12.jpg)

![](assets\Tab-bar11.jpg)

